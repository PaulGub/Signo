<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Signo - Générateur de signature du Groupe Bacqueyrisses</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
    }
    .container {
      display: flex;
      gap: 2rem;
    }
    form {
      width: 300px;
      display: flex;
      flex-direction: column;
    }
    label {
      margin-bottom: 5px;
      font-weight: bold;
    }
    input, select, button {
      margin-bottom: 10px;
      padding: 8px;
      font-size: 14px;
    }
    .signature-preview {
      flex: 1;
      border: 1px solid #ccc;
      padding: 10px;
      min-width: 400px;
    }
    h2 {
      margin-top: 0;
    }
    .copy-btn {
      background-color: #007BFF;
      border: none;
      color: white;
      cursor: pointer;
      font-size: 16px;
      padding: 10px 15px;
      border-radius: 5px;
      margin-bottom: 20px;
    }
    .copy-btn:hover {
      background-color: #0056b3;
    }
  </style>
</head>
<body>
  <h1>Signo - Générateur de signature du Groupe Bacqueyrisses</h1>
  <div class="container">
    <form id="signatureForm">
      <label for="nom">Nom et Prénom</label>
      <input type="text" id="nom" placeholder="Ex : Paul Gubbiotti" required />
      <label for="poste">Poste / Titre</label>
      <input type="text" id="poste" placeholder="Ex : Assistant Marketing" />
      <label for="service">Service</label>
      <input type="text" id="service" placeholder="Ex : Marketing, Commercial..." />
      <label for="telFixe">Téléphone fixe</label>
      <input type="tel" id="telFixe" placeholder="05 57 92 18 28" />
      <label for="telPortable">Téléphone mobile</label>
      <input type="tel" id="telPortable" placeholder="07 68 50 44 14" />
      <label for="mail">Email</label>
      <input type="email" id="mail" placeholder="exemple@bacqueyrisses.fr" />
      <label for="filiale">Filiale</label>
      <select id="filiale">
        <option value="bacqueyrisses" selected>Bacqueyrisses</option>
        <option value="pbc">PBC</option>
        <option value="boxtore">Boxtore</option>
        <option value="skillbus">Skillbus</option>
        <option value="sellerie">Sellerie</option>
      </select>
      <label for="photoURL">Photo (URL)</label>
      <input type="text" id="photoURL" placeholder="https://..." />
      <button type="button" id="genererBtn">Générer</button>
    </form>
    <div class="signature-preview">
      <button class="copy-btn" id="copyBtn">Copier le code HTML</button>
      <div id="previewArea"></div>
    </div>
  </div>
  <p>Version 1 - Janvier 2025</p>
  <script>
    const filialeData = {
      bacqueyrisses: {
        color: '#332c85',
        website: 'https://www.bacqueyrisses.fr/',
        signatureImage: 'https://raw.githubusercontent.com/PaulGub/signature-bacqueyrisses/refs/heads/main/signature-bacqueyrisses.png',
        address: '2 rue de Fieuzal, 33520 Bruges',
        addressMapURL: 'https://maps.app.goo.gl/XUoCEJyei1q17QUk6',
        socialLinks: {
          linkedin: 'https://www.linkedin.com/company/bacqueyrisses-sa/',
          instagram: 'https://www.instagram.com/bacqueyrisses_groupe/',
          facebook: 'https://www.facebook.com/profile.php?id=100065168555655',
          youtube: 'https://www.youtube.com/@groupe-bacqueyrisses'
        },
        defaultPhoto: 'https://yt3.googleusercontent.com/L9y18yV8S2PqgEdQ_sJ9xsUutPywdSD4xfdPw9XLdM-PAd4gPtxfQN-5sK3E4p2sulq7iWtWyg=s160-c-k-c0x00ffffff-no-rj'
      },
      pbc: {
        color: '#1E2A4F',
        website: 'https://www.probuscars.fr/',
        signatureImage: 'https://raw.githubusercontent.com/PaulGub/signature-bacqueyrisses/refs/heads/main/signature-pbc.png',
        address: '2 Rue de Fieuzal, 33520 Bruges',
        addressMapURL: 'https://www.google.com/maps/place//data=!4m2!3m1!1s0xd55290356abf381:0x841cb21749a9626d?sa=X&ved=1t:8290&ictx=111',
        socialLinks: {
          linkedin: 'https://www.linkedin.com/company/pro-bus-cars'
        },
        defaultPhoto: 'https://media.licdn.com/dms/image/v2/D560BAQFakQ9i1N4k1g/company-logo_100_100/company-logo_100_100/0/1666881599211/pro_bus_cars_logo?e=1743033600&v=beta&t=jfy8EladIlrMJmTCKQFRSAV3ZFoHOIcs939U6kNFNwg'
      },
      boxtore: {
        color: '#00a339',
        website: 'https://boxtore.fr/',
        signatureImage: 'https://raw.githubusercontent.com/PaulGub/signature-bacqueyrisses/refs/heads/main/signature-boxtore.png',
        address: '67 Lieu-dit Moulis Z.I Trixe Sortie, 82710 Bressols',
        addressMapURL: 'https://www.google.com/maps/place/Boxtore/@43.9390767,1.3225351,17z/data=!3m1!4b1!4m6!3m5!1s0x12ac0f9ac9b394d5:0x62a5efc72e446dd8!8m2!3d43.9390767!4d1.3225351!16s%2Fg%2F11w3l4zj41?entry=ttu&g_ep=EgoyMDI0MTIxMS4wIKXMDSoASAFQAw%3D%3D',
        socialLinks: {
          linkedin: 'https://www.linkedin.com/company/boxtore/',
          instagram: 'https://www.instagram.com/boxtore_selfstockage/',
          facebook: 'https://www.facebook.com/profile.php?id=61561152950706',
          youtube: 'https://www.youtube.com/@boxtore-montauban'
        },
        defaultPhoto: 'https://media.licdn.com/dms/image/v2/D560BAQFVdaZEnyQhaw/company-logo_100_100/company-logo_100_100/0/1719257514550/boxtore_logo?e=1743033600&v=beta&t=26nzxDUWPTYWeIuavAeeEWHfOQtg3hSMXD_Tf3Gr9_g'
      },
      skillbus: {
        color: '#e7511e',
        website: 'https://www.skillbus.fr/',
        signatureImage: 'https://raw.githubusercontent.com/PaulGub/signature-bacqueyrisses/refs/heads/main/signature-skillbus.png',
        address: '4 Rue des Frères Seigneurie, 31830 Plaisance-du-Touch',
        addressMapURL: 'https://www.google.com/maps/place//data=!4m2!3m1!1s0x12aeb3fb0ade6baf:0x42fff4ad5012f2d2?sa=X&ved=1t:8290&ictx=111',
        socialLinks: {
          linkedin: 'https://www.linkedin.com/company/skillbus/'
        },
        defaultPhoto: 'https://media.licdn.com/dms/image/v2/C4D0BAQEeQZLdTsN-ZQ/company-logo_100_100/company-logo_100_100/0/1630484852883/skillbus_logo?e=1743033600&v=beta&t=uwJbTBpUIo75URdP4YubKHuBGgKTPHkYZJf2u_b7Xbk'
      },
      sellerie: {
        color: '#a1122a',
        website: 'https://www.sellerie-bacqueyrisses.fr/',
        signatureImage: 'https://raw.githubusercontent.com/PaulGub/signature-bacqueyrisses/refs/heads/main/signature-sellerie.png',
        address: 'Rte de Lombez, 31830 Plaisance-du-Touch',
        addressMapURL: 'https://www.google.com/maps/place//data=!4m2!3m1!1s0x12aeb302d79c80db:0x9184d1ba1d5368a1?sa=X&ved=1t:8290&ictx=111&cshid=1735040386523745',
        socialLinks: {
          instagram: 'https://www.instagram.com/sellerie_bacqueyrisses/'
        },
        defaultPhoto: 'https://scontent-cdg4-1.cdninstagram.com/v/t51.2885-19/272419774_355463726089697_4624008405621560769_n.jpg?stp=dst-jpg_s150x150_tt6&_nc_ht=scontent-cdg4-1.cdninstagram.com&_nc_cat=105&_nc_ohc=XNob9nMudUcQ7kNvgHBp3XG&_nc_gid=123676d1c4794b2e8fe8b8c09bd3f234&edm=APoiHPcBAAAA&ccb=7-5&oh=00_AYCcb3RfBdFURRimFER6RcGcW3Fu2LBBLopPwW4bOZ_VRw&oe=6770A05D&_nc_sid=22de04'
      }
    };
    const form = document.getElementById('signatureForm');
    const nomInput = document.getElementById('nom');
    const posteInput = document.getElementById('poste');
    const serviceInput = document.getElementById('service');
    const telFixeInput = document.getElementById('telFixe');
    const telPortableInput = document.getElementById('telPortable');
    const mailInput = document.getElementById('mail');
    const filialeSelect = document.getElementById('filiale');
    const photoURLInput = document.getElementById('photoURL');
    const previewArea = document.getElementById('previewArea');
    const copyBtn = document.getElementById('copyBtn');
    const genererBtn = document.getElementById('genererBtn');

    function generateSignatureHTML() {
      const nom = nomInput.value.trim() || 'NOM Prénom';
      const poste = posteInput.value.trim() || 'Poste';
      const service = serviceInput.value.trim() || '';
      const telFixe = telFixeInput.value.trim();
      const telPortable = telPortableInput.value.trim();
      const mail = mailInput.value.trim() || 'exemple@mail.com';
      const filiale = filialeSelect.value;
      const photoURL = photoURLInput.value.trim();
      const { color, website, signatureImage, address, addressMapURL, socialLinks, defaultPhoto } = filialeData[filiale];
      const finalPhotoURL = photoURL || defaultPhoto;
      let linkedinLink = socialLinks.linkedin ? `<a href="${socialLinks.linkedin}" target="_blank" style="text-decoration: none; margin-right: 5px;"><img src="https://raw.githubusercontent.com/PaulGub/signature-bacqueyrisses/refs/heads/main/icon-linkedin.png" alt="LinkedIn" width="35" height="35" style="vertical-align: middle;"></a>` : '';
      let instagramLink = socialLinks.instagram ? `<a href="${socialLinks.instagram}" target="_blank" style="text-decoration: none; margin-right: 5px;"><img src="https://raw.githubusercontent.com/PaulGub/signature-bacqueyrisses/refs/heads/main/icon-instagram.png" alt="Instagram" width="35" height="35" style="vertical-align: middle;"></a>` : '';
      let facebookLink = socialLinks.facebook ? `<a href="${socialLinks.facebook}" target="_blank" style="text-decoration: none; margin-right: 5px;"><img src="https://raw.githubusercontent.com/PaulGub/signature-bacqueyrisses/refs/heads/main/icon-facebook.png" alt="Facebook" width="35" height="35" style="vertical-align: middle;"></a>` : '';
      let youtubeLink = socialLinks.youtube ? `<a href="${socialLinks.youtube}" target="_blank" style="text-decoration: none;"><img src="https://raw.githubusercontent.com/PaulGub/signature-bacqueyrisses/refs/heads/main/icon-youtube.png" alt="YouTube" width="35" height="35" style="vertical-align: middle;"></a>` : '';
      const signatureHTML = `
<html xmlns:o="urn:schemas-microsoft-com:office:office" 
      xmlns:w="urn:schemas-microsoft-com:office:word" 
      xmlns:m="http://schemas.microsoft.com/office/2004/12/omml" 
      xmlns="http://www.w3.org/TR/REC-html40">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
  <table style="max-width: 600px; font-family: Arial, sans-serif; line-height: 1.5; width: 100%;">
    <tr>
      <td>
        <table style="width: 100%; display: flex; align-items: center;">
          <tr>
            <td style="padding-right: 10px;">
              <img
                src="${finalPhotoURL}"
                alt="Photo de profil" 
                width="50" 
                height="50"
                style="border: 2px solid ${color}; border-radius: 50%;">
            </td>
            <td>
              <span style="font-size: 20px; font-weight: bold; text-transform: uppercase; color: ${color};">
                ${nom}
              </span><br>
              <span style="font-size: 18px; font-style: italic;">
                ${poste}${service ? ' - ' + service : ''}
              </span>
            </td>
          </tr>
        </table>
        ${
          telFixe
            ? `<p style="font-size: 14px; margin: 5px 0;">
          <table style="display: inline-table; vertical-align: middle;">
            <tr>
              <td style="padding-right: 5px;">
                <a href="tel:+33${telFixe.replace(/\s/g, '')}" target="_blank" style="color: #000; text-decoration: none;">
                  <img src="https://raw.githubusercontent.com/PaulGub/signature-bacqueyrisses/refs/heads/main/icon-phone-fixe.png" alt="Téléphone fixe" width="25" height="25">
                </a>
              </td>
              <td>
                <a href="tel:+33${telFixe.replace(/\s/g, '')}" target="_blank" style="color: #000; text-decoration: none;">
                  ${telFixe}
                </a>
              </td>
            </tr>
          </table>
        </p>`
            : ''
        }
        ${
          telPortable
            ? `<p style="font-size: 14px; margin: 5px 0;">
          <table style="display: inline-table; vertical-align: middle;">
            <tr>
              <td style="padding-right: 5px;">
                <a href="tel:+33${telPortable.replace(/\s/g, '')}" target="_blank" style="color: #000; text-decoration: none;">
                  <img src="https://raw.githubusercontent.com/PaulGub/signature-bacqueyrisses/refs/heads/main/icon-phone-mobile.png" alt="Téléphone mobile" width="25" height="25">
                </a>
              </td>
              <td>
                <a href="tel:+33${telPortable.replace(/\s/g, '')}" target="_blank" style="color: #000; text-decoration: none;">
                  ${telPortable}
                </a>
              </td>
            </tr>
          </table>
        </p>`
            : ''
        }
        <p style="font-size: 14px; margin: 5px 0;">
          <table style="display: inline-table; vertical-align: middle;">
            <tr>
              <td style="padding-right: 5px;">
                <a href="mailto:${mail}" target="_blank" style="color: #000000; text-decoration: none;">
                  <img src="https://raw.githubusercontent.com/PaulGub/signature-bacqueyrisses/refs/heads/main/icon-email.png" alt="Email" width="25" height="25">
                </a>
              </td>
              <td>
                <a href="mailto:${mail}" target="_blank" style="color: #000000; text-decoration: none;">
                  ${mail}
                </a>
              </td>
            </tr>
          </table>
        </p>
        <p style="font-size: 14px; margin: 5px 0;">
          <table style="display: inline-table; vertical-align: middle;">
            <tr>
              <td style="padding-right: 5px;">
                <a href="${addressMapURL}" target="_blank" style="color: #000000; text-decoration: none;">
                  <img src="https://raw.githubusercontent.com/PaulGub/signature-bacqueyrisses/refs/heads/main/icon-map.png" alt="Adresse" width="25" height="25">
                </a>
              </td>
              <td>
                <a href="${addressMapURL}" target="_blank" style="color: #000000; text-decoration: none;">
                  ${address}
                </a>
              </td>
            </tr>
          </table>
        </p>
        <a href="${website}" target="_blank" style="font-size: 14px; font-weight: bold; text-decoration: none; color: inherit;">
          ${website.replace(/^https?:\/\//, '')}
        </a>
        <div style="margin-top: 10px;">
          ${linkedinLink}${instagramLink}${facebookLink}${youtubeLink}
        </div>
        <p style="margin-top: 20px;">
          <a href="${website}" target="_blank" style="border: none; text-decoration: none;">
            <img 
              src="${signatureImage}" 
              alt="Signature image" 
              width="500" 
              style="border: none;">
          </a>
        </p>
        <div style="max-width: 600px;">
          <p style="font-size: 12px; color: #561164; margin-top: 20px; line-height: 1.6;">
            <img src="https://raw.githubusercontent.com/PaulGub/signature-bacqueyrisses/refs/heads/main/logo-afaq.jpg" 
                 alt="Certification AFAQ" 
                 style="width: 25px; height: 25px; vertical-align: middle; margin-right: 5px;">
            Notre organisme est certifié AFAQ ISO 9001.
          </p>
          <p style="font-size: 12px; color: red; margin-top: 20px; line-height: 1.6;">
            Afin de respecter votre droit à la déconnexion, vous ne devez pas répondre à ce message en dehors de vos horaires de travail ou pendant vos congés, 
            sauf si le sujet représente un caractère de gravité et/ou d'urgence.
          </p>
          <p style="font-size: 12px; color: black; line-height: 1.6;">
            Les informations contenues dans ce courrier électronique sont confidentielles et protégées par le secret professionnel. 
            Elles ne sont destinées qu'à la personne ou entreprise mentionnée ci-dessus. Veuillez aviser l'expéditeur en cas d'erreur. 
            Si vous n'êtes pas le destinataire, vous n'êtes pas autorisé à copier, divulguer ou diffuser ce document.
          </p>
          <p style="font-size: 12px; color: green; line-height: 1.6;">
            &#127793; Afin de contribuer au respect de l'environnement, merci de n'imprimer ce courriel qu'en cas de nécessité.
          </p>
        </div>
      </td>
    </tr>
  </table>
</body>
</html>
      `;
      return signatureHTML;
    }
    genererBtn.addEventListener('click', () => {
      const html = generateSignatureHTML();
      previewArea.innerHTML = html;
    });
    copyBtn.addEventListener('click', () => {
      const html = generateSignatureHTML();
      const tempTextarea = document.createElement('textarea');
      tempTextarea.value = html;
      document.body.appendChild(tempTextarea);
      tempTextarea.select();
      document.execCommand('copy');
      document.body.removeChild(tempTextarea);
      alert('Code HTML copié dans le presse-papiers !');
    });
  </script>
</body>
</html>